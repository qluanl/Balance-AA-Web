<!DOCTYPE html>
  <html>
  <head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
    <link rel="stylesheet" href="https://unpkg.com/form-making/dist/FormMaking.css">
  </head>
  <body>
    <div id="app">
      <fm-generate-form :data="jsonData" :remote="remoteFuncs" :value="editData" ref="generateForm">
        
      </fm-generate-form>
      <el-button type="primary" @click="handleSubmit">提交</el-button>
    </div>
    <script src="https://unpkg.com/vue/dist/vue.js"></script>
    <script src="https://unpkg.com/element-ui/lib/index.js"></script>
    <script src="https://unpkg.com/form-making/dist/FormMaking.umd.js"></script>
    <script>
      new Vue({
        el: '#app',
        data: {
          jsonData: {"list":[{"type":"input","name":"Name","icon":"icon-input","options":{"width":"100%","defaultValue":"","required":true,"dataType":"string","pattern":"","placeholder":"Enter the name of the payment","disabled":false,"remoteFunc":"func_1643075655000_33076"},"key":"1643075655000_33076","model":"input_1643075655000_33076","rules":[{"type":"string","message":"Name格式不正确"},{"required":true,"message":"Name必须填写"}]},{"type":"date","name":"Date","icon":"icon-date","options":{"defaultValue":"","readonly":false,"disabled":false,"editable":true,"clearable":false,"placeholder":"Choose the date of the payment","startPlaceholder":"","endPlaceholder":"","type":"date","format":"yyyy-MM-dd","timestamp":false,"required":true,"width":"","remoteFunc":"func_1643075667000_91904"},"key":"1643075667000_91904","model":"date_1643075667000_91904","rules":[{"required":true,"message":"Date必须填写"}]},{"type":"select","name":"Currency","icon":"icon-select","options":{"defaultValue":"USD","multiple":false,"disabled":false,"clearable":false,"placeholder":"","required":true,"showLabel":true,"width":"Choose the currency of the payment","options":[{"value":"USD","label":"US Dollar"},{"value":"CNY","label":"RMB"},{"value":"EUR","label":"EEE"}],"remote":false,"filterable":false,"remoteOptions":[],"props":{"value":"value","label":"label"},"remoteFunc":"func_1643076070000_24458"},"key":"1643076070000_24458","model":"select_1643076070000_24458","rules":[{"required":true,"message":"Currency必须填写"}]},{"type":"checkbox","name":"Members","icon":"icon-check-box","options":{"inline":false,"defaultValue":["Shenggao Li","Bozhao Nan","Danchen Zhao"],"showLabel":false,"options":[{"value":"Shenggao Li"},{"value":"Bozhao Nan"},{"value":"Danchen Zhao"}],"required":true,"width":"","remote":false,"remoteOptions":[],"props":{"value":"value","label":"label"},"remoteFunc":"func_1643076178000_26330","disabled":false},"key":"1643076178000_26330","model":"checkbox_1643076178000_26330","rules":[{"required":true,"message":"Members必须填写"}]},{"type":"input","name":"Total","icon":"icon-input","options":{"width":"100%","defaultValue":"","required":true,"dataType":"number","pattern":"","placeholder":"","disabled":false,"remoteFunc":"func_1643076326000_26379"},"key":"1643076326000_26379","model":"input_1643076326000_26379","rules":[{"type":"number","message":"Total格式不正确"},{"required":true,"message":"Total必须填写"}]},{"type":"imgupload","name":"图片","icon":"icon-tupian","options":{"defaultValue":[],"size":{"width":120,"height":160},"width":"","tokenFunc":"funcGetToken","token":"","domain":"http://pfp81ptt6.bkt.clouddn.com/","disabled":false,"length":8,"multiple":false,"isQiniu":false,"isDelete":false,"min":1,"isEdit":false,"action":"https://jsonplaceholder.typicode.com/photos/","remoteFunc":"func_1643076483000_58572"},"key":"1643076483000_58572","model":"imgupload_1643076483000_58572","rules":[]}],"config":{"labelWidth":100,"labelPosition":"top","size":"small"}},
          editData: {},
          remoteFuncs: {
            
            funcGetToken (resolve) {
              // 图片 imgupload_1643076483000_58572
              // 获取到token数据后执行回调函数
              // resolve(token)
            },
    
          }
        },
        methods: {
          handleSubmit () {
            this.$refs.generateForm.getData().then(data => {
              // 数据校验成功
              // data 为获取的表单数据
            }).catch(e => {
              // 数据校验失败
            })
          }
        }
      })
    </script>
  </body>
  </html>
